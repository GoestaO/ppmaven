<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:cc="http://xmlns.jcp.org/jsf/composite"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <cc:interface>

        <cc:attribute name="standorte" required="true" />


    </cc:interface>
    <cc:implementation>
        <h:outputStylesheet  name="myComponentStyle.css" library="myComponent" ></h:outputStylesheet>

        <div class="auswahlBox">
            <ui:repeat value="#{cc.attrs.standorte}" var="item" >  
                <h:form >

                    <div class="abstand">
                        <h2>#{item.standort}</h2>


                        <p:commandButton id="button#{item.id}" value="Tagesreport" actionListener="#{standortBean.setMyStandort(item)}" action="/reportSites/tagesreport.jsf" onsuccess="window.open('./reportSites/tagesreport.jsf', '_self');" />

                        <ui:repeat value="#{item.islands}" var="island" >  
                            <br/>
                            <p:commandButton id="button#{island.id}" value="Dashboard #{island.name}" actionListener="#{standortBean.setAll(item, island)}" action="/reportSites/dashboard.jsf" onsuccess="window.open('./reportSites/dashboard.jsf', '_self');" />
                        </ui:repeat>

                        <p:separator />
                        <p:commandButton value="Artikel-Tracking" actionListener="#{standortBean.setMyStandort(item)}" action="/reportSites/artikel-tracking.jsf" onsuccess="window.open('./reportSites/artikel-tracking.jsf', '_self');" />

                        <p:commandButton value="Backlog-Tracking" actionListener="#{standortBean.setMyStandort(item)}" action="/reportSites/backlog-tracking.jsf" onsuccess="window.open('./reportSites/backlog-tracking.jsf', '_self');" />
                    </div>

                    <p:ajaxStatus onstart="PF('loadDialog').show()" onsuccess="PF('loadDialog').hide()" />   
                    <p:dialog widgetVar="loadDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                        <h:graphicImage library="img" name="tree.gif"/>
                    </p:dialog>
                </h:form>
            </ui:repeat>
        </div>












    </cc:implementation>
</ui:composition>

